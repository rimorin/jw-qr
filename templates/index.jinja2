<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Generator for JW.ORG</title>
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='favicon_io/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon_io/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon_io/favicon-16x16.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='favicon_io/site.webmanifest') }}">
    <script type="text/javascript" src="{{ url_for('static', filename='font-awesome/js/all.min.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head><body>
{% block content %}
<div style="position: absolute;
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);">
<form target="_blank" action="{{ url_for("index")}}" method="post" style="text-align: center">
<div><button id="infoBtn" type="button" class="btn modal-open"><i class="fa fa-circle-question"></i></button> <label for="article-link"><strong>Enter article link</strong></label></div><br>
<input type="text" id="article-link" name="article-link" placeholder="Article link" required><br>
<div><button class="btn" id="paste" type="button"><i class="fa fa-paste"></i> Paste</button> <button class="btn" id="clear" type="button"><i class="fa fa-trash"></i> Clear</button> <button type="submit" class="btn"><i class="fa fa-qrcode"></i> Generate</button></div>
</div>
<form/>
{% include 'notes.jinja2' %}
{% endblock %}
</body>
<script>
        const paste = document.getElementById('paste');
        paste.addEventListener('click', () => {
            navigator.clipboard.readText().then((clipText) => {
                console.log(clipText);
                document.getElementById('article-link').value = clipText;
            });
        });
        const clearBtn = document.getElementById('clear');
        clearBtn.addEventListener('click', () => {
            document.getElementById('article-link').value = "";
        });

        const notesModal = document.getElementById("notesModal");
        const infoBtn = document.getElementById("infoBtn");
        const modalCloseBtn = document.getElementById("modalCloseBtn");

        // When the user clicks on the button, open the modal
        infoBtn.onclick = function() {
            notesModal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        modalCloseBtn.onclick = function() {
            notesModal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == notesModal) {
            notesModal.style.display = "none";
        }
        }
    </script>
</html>